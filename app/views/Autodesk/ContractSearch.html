<div ng-app="myApp">
<div class="container" ng-swipe-right="" ng-swipe-left="">

    <div class="row">
        <div class="form-group col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <h2 style="float:left;">Buscador de contratos </h2>
        </div>
    </div>

    <div class="row" >
      <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6" style="float:right;"> 
        <div style="float:right;" class="col-xs-4 col-sm-4 col-md-3 col-lg-3">
          <button style="min-width: 1.2em; height: 2.5em;" class="btn btn-primary" ng-click="getContractsData(contractNumber)">
            Buscar <span class="glyphicon glyphicon-search"></span>
          </button>
        </div>
        <div class="form-group col-xs-8 col-sm-8 col-md-9 col-lg-9" style="float:right;">
          <input class="form-control fa-lg" type="text" placeholder="Número de contrato"aria-label="Buscar" ng-model="contractNumber"  ng-keydown="$event.keyCode === 13 && getContractsData(contractNumber)">
        </div>
      </div>
    </div>
    <hr>
    <div class="row">
      <div class="row cotainer" ng-repeat="contract in contracts">
        <div style="background-color: rgba(220, 220, 220, 0.4); padding: 1.5em">
          <div class="col-xs-12 col-sm-12 col-md-2 col-lg-2">
            <div class="text-center form-group">
                <div style="color:#00549F;">
                    <label>Número de contrato</label>
                    <h4>{{ contract.contractNumber}}</h4>
                    <br>
                </div>
            </div>
        </div>
          <ul style="list-style-type:none; padding:0%">
            <li> <label>Distribuidor:</label> {{ contract.resellerCSN }} - {{ contract.reseller }} </li>
            <li> <label>Usuario final:</label> {{ contract.finalUserCSN }} - {{contract.finalUser}} </li>
            <li> <label>Esquema de renovación:</label> {{ contract.term }} </li>
            <li> <label>Fin del periodo:</label> {{ contract.endDate | date:'d/MM/yyyy' }} </li>
          </ul>
          <button style="position: relative; float: right; bottom: 2em; height: 2.6em;" class="btn btn-primary" ng-click="confirmarParticion({{item.IdPedido}})">
            Asociar contrato
          </button>
        </div>
        <div style="margin-top: 2em; text-align: center;">
          <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2"><label>Número de serie:</label></div>
          <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6"><label>Descripción:</label></div>
          <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" ><label>Línea de producto:</label></div>
          <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1"><label>Cantidad:</label></div>
        </div>
        <hr class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <div ng-repeat="detail in contract.detalles" style=" text-align: center;">
            <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2" style="margin-bottom: .8em;"> {{ detail.serialNumber }} </div>
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6" style="margin-bottom: .8em;"> {{ detail.description }} </div>
            <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" style="margin-bottom: .8em;"> {{ detail.productLine }} </div>
            <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1" style="margin-bottom: .8em;"> {{ detail.quantity }} </div>
            <hr class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        </div>
        <br>
      </div>

      <div ng-show="!contracts.length" style = "text-align:center"><h4>No hay resultados.</h4></div>        
      
    </div>
</div> 
</div>