<div ng-app="myApp" ng-controller="MonitorPremiumController">
    <div class="container" ng-swipe-right="" ng-swipe-left="">
  
        <div class="row">
            <div class="form-group col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <h2 style="float:left;">Monitor planes premium</h2>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <h4 style="float:left;">Consulta la información por medio del correo del <b style="color:rgb(188,17,46);">administrador primario</b>. </h4><br>
            </div>
        </div>
        <hr>
        
        <div class="row">
            <div>
                <div class="form-group col-xs-12 col-sm-6 col-md-4 col-lg-4">
                    <label>Correo electrónico</label>
                    <input type = "text" name = "CSNdist" placeholder="Escribe el correo del administrador primario" class="form-control" ng-model="email" required/>
                </div>
                <div class="form-group col-xs-2 col-sm-2 col-md-2 col-lg-2">
                    <button type="submit" style="margin-top: .8em;" ng-click="getTeams()" class="btn btn-success " style="background: !important">
                        <span class="glyphicon glyphicon-download-alt"></span>
                        &nbsp;Consultar información
                    </button>
                </div>
            </div>

            <hr class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

            <div class="form-group col-xs-12 col-sm-12 col-md-9 col-lg-9" ng-show = "equipos.length">
                
                <table class="table" style="text-align: center;">
                    <h4>Detalle de equipos de trabajo</h4>
                    <tr>
                      <th style="text-align: center;">ID del equipo</th>
                      <th style="text-align: center;">Nombre del equipo</th>
                      <th style="text-align: center;">Asientos totales</th>
                      <th style="text-align: center;">Asientos elegibles para premium</th>
                      <th style="text-align: center;">Asientos premium</th>
                      <th style="text-align: center;">Premium delta</th>
                    </tr>
                    <tr ng-repeat="equipo in equipos">
                      <td>{{equipo.teamID}}</td>
                      <td>{{equipo.teamName}}</td>
                      <td>{{equipo.totalSeats}}</td>
                      <td>{{equipo.premiumEligibleSeats}}</td>
                      <td>{{equipo.premiumSeats}}</td>
                      <td>{{equipo.premiumDelta || equipo.premiumEligibleSeats - equipo.premiumSeats}}</td>
                    </tr>
                </table>
            </div>

            <div class="form-group col-xs-12 col-sm-12 col-md-3 col-lg-3"  style="float:right;" ng-show = "equipos.length">
                <table class="table table-bordered">
                    <tr>
                      <th colspan="2" style="background-color: rgb(0, 106, 171); color: white;">Resumen</th>
                    </tr>
                    <tr>
                      <td>Asientos premium comprados</td>
                      <td>{{asientosComprados}}</td>
                    </tr>
                    <tr>
                      <td>Asientos elegibles totales</td>
                      <td>{{asientosElegibles}}</td>
                    </tr>
                    <tr ng-if="asientosComprados">
                      <td>Asientos restantes (True-up)</td>
                      <td>{{asientosElegibles - asientosComprados}}</td>
                    </tr>
                </table>
            </div>

            <div ng-show="!equipos.length" class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style = "text-align:center"><h4>Sin resultados.</h4></div>  

        </div>
    </div>
</div>
